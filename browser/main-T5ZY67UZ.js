import{a as we,b as di}from"./chunk-SOO2G4HI.js";import{a as S,b as q,e as qn,f as Vt,h as he,i as Ge,j as Oe}from"./chunk-PT2JM3JA.js";import{d as We}from"./chunk-RZG4FUBD.js";import{a as mi}from"./chunk-ET5B3PG2.js";import"./chunk-6HSA32IX.js";import{$b as ci,A as I,B as kn,C as It,D as Rt,Da as T,Ea as V,F as Nn,G as On,Ga as Ln,H as qe,I as Dn,Nb as ei,O as Ft,Ob as ti,Pb as ni,Qb as ii,R as A,Rb as ri,T as Qe,Tb as Ye,U as In,Ua as xn,Ub as Xe,W as Ne,Wa as Bn,Wb as si,Xb as oi,Y as X,Yb as Ze,Z,Za as ce,Zb as ai,_a as zn,_b as li,a as Ee,aa as re,ac as ui,ba as Rn,c as Cn,ca as Lt,db as Un,ea as Fn,f as ae,g as Ke,gb as Kn,h as Ve,hb as Vn,ib as $e,ja as K,jb as jn,k as te,ka as E,kb as Qn,la as w,lb as $n,ma as xt,mb as Gn,n as An,nb as Wn,o as le,ob as Hn,p as Dt,pb as jt,qa as Bt,qb as Yn,r as be,ra as zt,rb as Xn,s as ke,sa as Ut,sb as Zn,u as v,v as Pn,vc as J,w as ne,x as Y,xb as Jn,y as je,yb as He,z as ie,za as Kt}from"./chunk-X6DWFC4Y.js";function pi(r){return new v(3e3,!1)}function vr(){return new v(3100,!1)}function _r(){return new v(3101,!1)}function Sr(r){return new v(3001,!1)}function Er(r){return new v(3003,!1)}function br(r){return new v(3004,!1)}function fi(r,e){return new v(3005,!1)}function gi(){return new v(3006,!1)}function yi(){return new v(3007,!1)}function vi(r,e){return new v(3008,!1)}function _i(r){return new v(3002,!1)}function Si(r,e,t,n,i){return new v(3010,!1)}function Ei(){return new v(3011,!1)}function bi(){return new v(3012,!1)}function wi(){return new v(3200,!1)}function Ti(){return new v(3202,!1)}function Mi(){return new v(3013,!1)}function Ci(r){return new v(3014,!1)}function Ai(r){return new v(3015,!1)}function Pi(r){return new v(3016,!1)}function ki(r,e){return new v(3404,!1)}function wr(r){return new v(3502,!1)}function Ni(r){return new v(3503,!1)}function Oi(){return new v(3300,!1)}function Di(r){return new v(3504,!1)}function Ii(r){return new v(3301,!1)}function Ri(r,e){return new v(3302,!1)}function Fi(r){return new v(3303,!1)}function Li(r,e){return new v(3400,!1)}function xi(r){return new v(3401,!1)}function Bi(r){return new v(3402,!1)}function zi(r,e){return new v(3505,!1)}function se(r){switch(r.length){case 0:return new he;case 1:return r[0];default:return new Ge(r)}}function Gt(r,e,t=new Map,n=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((_,y)=>{let p=y,g=_;if(y!=="offset")switch(p=r.normalizePropertyName(p,i),g){case Oe:g=t.get(y);break;case q:g=n.get(y);break;default:g=r.normalizeStyleValue(y,p,g,i);break}d.set(p,g)}),u||s.push(d),a=d,o=c}),i.length)throw wr(i);return s}function Je(r,e,t,n){switch(e){case"start":r.onStart(()=>n(t&&qt(t,"start",r)));break;case"done":r.onDone(()=>n(t&&qt(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&qt(t,"destroy",r)));break}}function qt(r,e,t){let n=t.totalTime,i=!!t.disabled,s=et(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,n??r.totalTime,i),o=r._data;return o!=null&&(s._data=o),s}function et(r,e,t,n,i="",s=0,o){return{element:r,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:s,disabled:!!o}}function x(r,e,t){let n=r.get(e);return n||r.set(e,n=t),n}function Wt(r){let e=r.indexOf(":"),t=r.substring(1,e),n=r.slice(e+1);return[t,n]}var Tr=typeof document>"u"?null:document.documentElement;function tt(r){let e=r.parentNode||r.host||null;return e===Tr?null:e}function Mr(r){return r.substring(1,6)=="ebkit"}var fe=null,hi=!1;function Ui(r){fe||(fe=Cr()||{},hi=fe.style?"WebkitAppearance"in fe.style:!1);let e=!0;return fe.style&&!Mr(r)&&(e=r in fe.style,!e&&hi&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in fe.style)),e}function Cr(){return typeof document<"u"?document.body:null}function Ht(r,e){for(;e;){if(e===r)return!0;e=tt(e)}return!1}function Yt(r,e,t){if(t)return Array.from(r.querySelectorAll(e));let n=r.querySelector(e);return n?[n]:[]}var Ar=1e3,Xt="{{",Pr="}}",Zt="ng-enter",nt="ng-leave",De="ng-trigger",Ie=".ng-trigger",Jt="ng-animating",it=".ng-animating";function ee(r){if(typeof r=="number")return r;let e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qt(parseFloat(e[1]),e[2])}function Qt(r,e){switch(e){case"s":return r*Ar;default:return r}}function Re(r,e,t){return r.hasOwnProperty("duration")?r:Nr(r,e,t)}var kr=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Nr(r,e,t){let n,i=0,s="";if(typeof r=="string"){let o=r.match(kr);if(o===null)return e.push(pi(r)),{duration:0,delay:0,easing:""};n=Qt(parseFloat(o[1]),o[2]);let a=o[3];a!=null&&(i=Qt(parseFloat(a),o[4]));let l=o[5];l&&(s=l)}else n=r;if(!t){let o=!1,a=e.length;n<0&&(e.push(vr()),o=!0),i<0&&(e.push(_r()),o=!0),o&&e.splice(a,0,pi(r))}return{duration:n,delay:i,easing:s}}function Ki(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}function Q(r,e,t){e.forEach((n,i)=>{let s=rt(i);t&&!t.has(i)&&t.set(i,r.style[s]),r.style[s]=n})}function ue(r,e){e.forEach((t,n)=>{let i=rt(n);r.style[i]=""})}function Te(r){return Array.isArray(r)?r.length==1?r[0]:qn(r):r}function Vi(r,e,t){let n=e.params||{},i=en(r);i.length&&i.forEach(s=>{n.hasOwnProperty(s)||t.push(Sr(s))})}var $t=new RegExp(`${Xt}\\s*(.+?)\\s*${Pr}`,"g");function en(r){let e=[];if(typeof r=="string"){let t;for(;t=$t.exec(r);)e.push(t[1]);$t.lastIndex=0}return e}function Me(r,e,t){let n=`${r}`,i=n.replace($t,(s,o)=>{let a=e[o];return a==null&&(t.push(Er(o)),a=""),a.toString()});return i==n?r:i}var Or=/-+([a-z0-9])/g;function rt(r){return r.replace(Or,(...e)=>e[1].toUpperCase())}function ji(r,e){return r===0||e===0}function qi(r,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((s,o)=>{n.has(o)||i.push(o),n.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,st(r,a)))}}return e}function B(r,e,t){switch(e.type){case S.Trigger:return r.visitTrigger(e,t);case S.State:return r.visitState(e,t);case S.Transition:return r.visitTransition(e,t);case S.Sequence:return r.visitSequence(e,t);case S.Group:return r.visitGroup(e,t);case S.Animate:return r.visitAnimate(e,t);case S.Keyframes:return r.visitKeyframes(e,t);case S.Style:return r.visitStyle(e,t);case S.Reference:return r.visitReference(e,t);case S.AnimateChild:return r.visitAnimateChild(e,t);case S.AnimateRef:return r.visitAnimateRef(e,t);case S.Query:return r.visitQuery(e,t);case S.Stagger:return r.visitStagger(e,t);default:throw br(e.type)}}function st(r,e){return window.getComputedStyle(r)[e]}var vn=(()=>{class r{validateStyleProperty(t){return Ui(t)}containsElement(t,n){return Ht(t,n)}getParentElement(t){return tt(t)}query(t,n,i){return Yt(t,n,i)}computeStyle(t,n,i){return i||""}animate(t,n,i,s,o,a=[],l){return new he(i,s)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=ne({token:r,factory:r.\u0275fac})}return r})(),ye=class{static NOOP=new vn},ve=class{};var Dr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ut=class extends ve{normalizePropertyName(e,t){return rt(e)}normalizeStyleValue(e,t,n,i){let s="",o=n.toString().trim();if(Dr.has(t)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(fi(e,n))}return o+s}};var dt="*";function Ir(r,e){let t=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>Rr(n,t,e)):t.push(r),t}function Rr(r,e,t){if(r[0]==":"){let l=Fr(r,t);if(typeof l=="function"){e.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(Ai(r)),e;let i=n[1],s=n[2],o=n[3];e.push(Qi(i,o));let a=i==dt&&o==dt;s[0]=="<"&&!a&&e.push(Qi(o,i))}function Fr(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(Pi(r)),"* => *"}}var ot=new Set(["true","1"]),at=new Set(["false","0"]);function Qi(r,e){let t=ot.has(r)||at.has(r),n=ot.has(e)||at.has(e);return(i,s)=>{let o=r==dt||r==i,a=e==dt||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?ot.has(r):at.has(r)),!a&&n&&typeof s=="boolean"&&(a=s?ot.has(e):at.has(e)),o&&a}}var tr=":self",Lr=new RegExp(`s*${tr}s*,?`,"g");function nr(r,e,t,n){return new an(r).build(e,t,n)}var $i="",an=class{_driver;constructor(e){this._driver=e}build(e,t,n){let i=new ln(t);return this._resetContextStyleTimingState(i),B(this,Te(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=$i,e.collectedStyles=new Map,e.collectedStyles.set($i,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(gi()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==S.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==S.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(yi())}),{type:S.Trigger,name:e.name,states:s,transitions:o,queryCount:n,depCount:i,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{en(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(vi(e.name,[...s.values()]))}return{type:S.State,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=B(this,Te(e.animation),t),i=Ir(e.expr,t.errors);return{type:S.Transition,matchers:i,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:ge(e.options)}}visitSequence(e,t){return{type:S.Sequence,steps:e.steps.map(n=>B(this,n,t)),options:ge(e.options)}}visitGroup(e,t){let n=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=n;let a=B(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:S.Group,steps:s,options:ge(e.options)}}visitAnimate(e,t){let n=Ur(e.timings,t.errors);t.currentAnimateTimings=n;let i,s=e.styles?e.styles:Vt({});if(s.type==S.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=Vt(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:S.Animate,timings:n,style:i,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===q?n.push(a):t.errors.push(_i(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Xt)>=0){s=!0;break}}}),{type:S.Style,styles:n,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(Si(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&Vi(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:S.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Ei()),n;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(P=>{let k=this._makeStyleAst(P,t),R=k.offset!=null?k.offset:zr(k.styles),O=0;return R!=null&&(s++,O=k.offset=R),l=l||O<0||O>1,a=a||O<c,c=O,o.push(O),k});l&&t.errors.push(bi()),a&&t.errors.push(wi());let d=e.steps.length,_=0;s>0&&s<d?t.errors.push(Ti()):s==0&&(_=i/(d-1));let y=d-1,p=t.currentTime,g=t.currentAnimateTimings,M=g.duration;return u.forEach((P,k)=>{let R=_>0?k==y?1:_*k:o[k],O=R*M;t.currentTime=p+g.delay+O,g.duration=O,this._validateStyleAst(P,t),P.offset=R,n.styles.push(P)}),n}visitReference(e,t){return{type:S.Reference,animation:B(this,Te(e.animation),t),options:ge(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:S.AnimateChild,options:ge(e.options)}}visitAnimateRef(e,t){return{type:S.AnimateRef,animation:this.visitReference(e.animation,t),options:ge(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=xr(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,x(t.collectedStyles,t.currentQuerySelector,new Map);let a=B(this,Te(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:S.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ge(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Mi());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Re(e.timings,t.errors,!0);return{type:S.Stagger,animation:B(this,Te(e.animation),t),timings:n,options:null}}};function xr(r){let e=!!r.split(/\s*,\s*/).find(t=>t==tr);return e&&(r=r.replace(Lr,"")),r=r.replace(/@\*/g,Ie).replace(/@\w+/g,t=>Ie+"-"+t.slice(1)).replace(/:animating/g,it),[r,e]}function Br(r){return r?Ee({},r):null}var ln=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function zr(r){if(typeof r=="string")return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Ur(r,e){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let s=Re(r,e).duration;return tn(s,0,"")}let t=r;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=tn(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=Re(t,e);return tn(i.duration,i.delay,i.easing)}function ge(r){return r?(r=Ee({},r),r.params&&(r.params=Br(r.params))):r={},r}function tn(r,e,t){return{duration:r,delay:e,easing:t}}function _n(r,e,t,n,i,s,o=null,a=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Le=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Kr=1,Vr=":enter",jr=new RegExp(Vr,"g"),qr=":leave",Qr=new RegExp(qr,"g");function ir(r,e,t,n,i,s=new Map,o=new Map,a,l,c=[]){return new cn().buildKeyframes(r,e,t,n,i,s,o,a,l,c)}var cn=class{buildKeyframes(e,t,n,i,s,o,a,l,c,u=[]){c=c||new Le;let d=new un(e,t,c,i,s,u,[]);d.options=l;let _=l.delay?ee(l.delay):0;d.currentTimeline.delayNextStep(_),d.currentTimeline.setStyles([o],null,d.errors,l),B(this,n,d);let y=d.timelines.filter(p=>p.containsAnimation());if(y.length&&a.size){let p;for(let g=y.length-1;g>=0;g--){let M=y[g];if(M.element===t){p=M;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return y.length?y.map(p=>p.buildKeyframes()):[_n(t,[],[],[],0,_,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:ee(Me(s,i?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime,o=n.duration!=null?ee(n.duration):null,a=n.delay!=null?ee(n.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),B(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==S.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mt);let o=ee(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>B(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?ee(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),B(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,i=t.params?Me(n,t.params,t.errors):n;return Re(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());let s=e.style;s.type==S.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,i=t.currentTimeline.duration,s=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ee(i.delay):0;s&&(t.previousNode.type===S.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mt);let o=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),B(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let _=d.currentTimeline.currentTime;o=Math.max(o,_)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;B(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-d+(i.startTime-n.currentTimeline.startTime)}},mt={},un=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=mt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new pt(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,i=this.options;n.duration!=null&&(i.duration=ee(n.duration)),n.delay!=null&&(i.delay=ee(n.delay));let s=n.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Me(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){let i=t||this.element,s=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=mt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},s=new dn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(jr,"."+this._enterClassName),e=e.replace(Qr,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(Ci(t)),a}},pt=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Kr,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||q),this._currentKeyframe.set(t,q);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=$r(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Me(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??q),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Oe?e.add(d):u===q&&t.add(d)}),n||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...t.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return _n(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},dn=class extends pt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=n+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",Gi(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let _=new Map(e[d]),y=_.get("offset"),p=t+y*n;_.set("offset",Gi(p/o)),s.push(_)}n=o,t=0,i="",e=s}return _n(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}};function Gi(r,e=3){let t=Math.pow(10,e-1);return Math.round(r*t)/t}function $r(r,e){let t=new Map,n;return r.forEach(i=>{if(i==="*"){n??=e.keys();for(let s of n)t.set(s,q)}else for(let[s,o]of i)t.set(s,o)}),t}function Wi(r,e,t,n,i,s,o,a,l,c,u,d,_){return{type:0,element:r,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:_}}var nn={},ht=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return Gr(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map}build(e,t,n,i,s,o,a,l,c,u){let d=[],_=this.ast.options&&this.ast.options.params||nn,y=a&&a.params||nn,p=this.buildStyles(n,y,d),g=l&&l.params||nn,M=this.buildStyles(i,g,d),P=new Set,k=new Map,R=new Map,O=i==="void",_e={params:rr(g,_),delay:this.ast.options?.delay},W=u?[]:ir(e,t,this.ast.animation,s,o,p,M,_e,c,d),F=0;return W.forEach(L=>{F=Math.max(L.duration+L.delay,F)}),d.length?Wi(t,this._triggerName,n,i,O,p,M,[],[],k,R,F,d):(W.forEach(L=>{let de=L.element,Se=x(k,de,new Set);L.preStyleProps.forEach(me=>Se.add(me));let bn=x(R,de,new Set);L.postStyleProps.forEach(me=>bn.add(me)),de!==t&&P.add(de)}),Wi(t,this._triggerName,n,i,O,p,M,W,[...P.values()],k,R,F))}};function Gr(r,e,t,n,i){return r.some(s=>s(e,t,n,i))}function rr(r,e){let t=Ee({},e);return Object.entries(r).forEach(([n,i])=>{i!=null&&(t[n]=i)}),t}var mn=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,i=rr(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Me(o,i,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),n.set(a,o)})}),n}};function Wr(r,e,t){return new pn(r,e,t)}var pn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new mn(i.style,s,n))}),Hi(this.states,"true","1"),Hi(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ht(e,i,this.states))}),this.fallbackTransition=Hr(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(o=>o.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function Hr(r,e,t){let n=[(o,a)=>!0],i={type:S.Sequence,steps:[],options:null},s={type:S.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new ht(r,s,e)}function Hi(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}var Yr=new Le,hn=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],i=[],s=nr(this._driver,t,n,i);if(n.length)throw Ni(n);this._animations.set(e,s)}_buildPlayer(e,t,n){let i=e.element,s=Gt(this._normalizer,e.keyframes,t,n);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=ir(this._driver,t,s,Zt,nt,new Map,new Map,n,Yr,i),o.forEach(u=>{let d=x(a,u.element,new Map);u.postStyleProps.forEach(_=>d.set(_,null))})):(i.push(Oi()),o=[]),i.length)throw Di(i);a.forEach((u,d)=>{u.forEach((_,y)=>{u.set(y,this._driver.computeStyle(d,y,q))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=se(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ii(e);return t}listen(e,t,n,i){let s=et(t,"","","");return Je(this._getPlayer(e),n,s,i),()=>{}}command(e,t,n,i){if(n=="register"){this.register(e,i[0]);return}if(n=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Yi="ng-animate-queued",Xr=".ng-animate-queued",rn="ng-animate-disabled",Zr=".ng-animate-disabled",Jr="ng-star-inserted",es=".ng-star-inserted",ts=[],sr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ns={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$="__ng_removed",xe=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=rs(i),n){let s=e,{value:o}=s,a=Cn(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(i=>{n[i]==null&&(n[i]=t[i])})}}},Fe="void",sn=new xe(Fe),fn=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,j(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.has(t))throw Ri(n,t);if(n==null||n.length==0)throw Fi(t);if(!ss(n))throw Li(n,t);let s=x(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};s.push(o);let a=x(this._engine.statesByElement,e,new Map);return a.has(t)||(j(e,De),j(e,De+"-"+t),a.set(t,sn)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw xi(e);return t}trigger(e,t,n,i=!0){let s=this._getTrigger(t),o=new Be(this.id,t,e),a=this._engine.statesByElement.get(e);a||(j(e,De),j(e,De+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new xe(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=sn),!(c.value===Fe)&&l.value===c.value){if(!ls(l.params,c.params)){let g=[],M=s.matchStyles(l.value,l.params,g),P=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ue(e,M),Q(e,P)})}return}let _=x(this._engine.playersByElement,e,[]);_.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let y=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!y){if(!i)return;y=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(j(e,Yi),o.onStart(()=>{Ce(e,Yi)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let M=this._engine.playersByElement.get(e);if(M){let P=M.indexOf(o);P>=0&&M.splice(P,1)}}),this.players.push(o),_.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,Ie,!0);n.forEach(i=>{if(i[$])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Fe,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&se(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||sn,u=new xe(Fe),d=new Be(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{let s=e[$];(!s||s===sr)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){j(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=et(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,Je(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{let s=n.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},gn=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new fn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let i of n.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,n,i){if(lt(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!lt(t))return;let s=t[$];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),j(e,rn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ce(e,rn))}removeNode(e,t,n){if(lt(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,i,s){this.collectedLeaveElements.push(t),t[$]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,n,i,s){return lt(t)?this._fetchNamespace(e).listen(t,n,i,s):()=>{}}_buildInstruction(e,t,n,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Ie,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,it,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return se(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[$];if(t&&t.setForRemoval){if(e[$]=sr,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(rn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Zr,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];j(i,Jr)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?se(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw Bi(e)}_flushAnimations(e,t){let n=new Le,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(m=>{u.add(m);let h=this.driver.query(m,Xr,!0);for(let f=0;f<h.length;f++)u.add(h[f])});let d=this.bodyNode,_=Array.from(this.statesByElement.keys()),y=Ji(_,this.collectedEnterElements),p=new Map,g=0;y.forEach((m,h)=>{let f=Zt+g++;p.set(h,f),m.forEach(b=>j(b,f))});let M=[],P=new Set,k=new Set;for(let m=0;m<this.collectedLeaveElements.length;m++){let h=this.collectedLeaveElements[m],f=h[$];f&&f.setForRemoval&&(M.push(h),P.add(h),f.hasAnimation?this.driver.query(h,es,!0).forEach(b=>P.add(b)):k.add(h))}let R=new Map,O=Ji(_,Array.from(P));O.forEach((m,h)=>{let f=nt+g++;R.set(h,f),m.forEach(b=>j(b,f))}),e.push(()=>{y.forEach((m,h)=>{let f=p.get(h);m.forEach(b=>Ce(b,f))}),O.forEach((m,h)=>{let f=R.get(h);m.forEach(b=>Ce(b,f))}),M.forEach(m=>{this.processLeaveNode(m)})});let _e=[],W=[];for(let m=this._namespaceList.length-1;m>=0;m--)this._namespaceList[m].drainQueuedTransitions(t).forEach(f=>{let b=f.player,N=f.element;if(_e.push(b),this.collectedEnterElements.length){let D=N[$];if(D&&D.setForMove){if(D.previousTriggersValues&&D.previousTriggersValues.has(f.triggerName)){let pe=D.previousTriggersValues.get(f.triggerName),U=this.statesByElement.get(f.element);if(U&&U.has(f.triggerName)){let Ue=U.get(f.triggerName);Ue.value=pe,U.set(f.triggerName,Ue)}}b.destroy();return}}let H=!d||!this.driver.containsElement(d,N),z=R.get(N),oe=p.get(N),C=this._buildInstruction(f,n,oe,z,H);if(C.errors&&C.errors.length){W.push(C);return}if(H){b.onStart(()=>ue(N,C.fromStyles)),b.onDestroy(()=>Q(N,C.toStyles)),i.push(b);return}if(f.isFallbackTransition){b.onStart(()=>ue(N,C.fromStyles)),b.onDestroy(()=>Q(N,C.toStyles)),i.push(b);return}let Mn=[];C.timelines.forEach(D=>{D.stretchStartingKeyframe=!0,this.disabledNodes.has(D.element)||Mn.push(D)}),C.timelines=Mn,n.append(N,C.timelines);let yr={instruction:C,player:b,element:N};o.push(yr),C.queriedElements.forEach(D=>x(a,D,[]).push(b)),C.preStyleProps.forEach((D,pe)=>{if(D.size){let U=l.get(pe);U||l.set(pe,U=new Set),D.forEach((Ue,Ot)=>U.add(Ot))}}),C.postStyleProps.forEach((D,pe)=>{let U=c.get(pe);U||c.set(pe,U=new Set),D.forEach((Ue,Ot)=>U.add(Ot))})});if(W.length){let m=[];W.forEach(h=>{m.push(zi(h.triggerName,h.errors))}),_e.forEach(h=>h.destroy()),this.reportError(m)}let F=new Map,L=new Map;o.forEach(m=>{let h=m.element;n.has(h)&&(L.set(h,h),this._beforeAnimationBuild(m.player.namespaceId,m.instruction,F))}),i.forEach(m=>{let h=m.element;this._getPreviousPlayers(h,!1,m.namespaceId,m.triggerName,null).forEach(b=>{x(F,h,[]).push(b),b.destroy()})});let de=M.filter(m=>er(m,l,c)),Se=new Map;Zi(Se,this.driver,k,c,q).forEach(m=>{er(m,l,c)&&de.push(m)});let me=new Map;y.forEach((m,h)=>{Zi(me,this.driver,new Set(m),l,Oe)}),de.forEach(m=>{let h=Se.get(m),f=me.get(m);Se.set(m,new Map([...h?.entries()??[],...f?.entries()??[]]))});let Nt=[],wn=[],Tn={};o.forEach(m=>{let{element:h,player:f,instruction:b}=m;if(n.has(h)){if(u.has(h)){f.onDestroy(()=>Q(h,b.toStyles)),f.disabled=!0,f.overrideTotalTime(b.totalTime),i.push(f);return}let N=Tn;if(L.size>1){let z=h,oe=[];for(;z=z.parentNode;){let C=L.get(z);if(C){N=C;break}oe.push(z)}oe.forEach(C=>L.set(C,N))}let H=this._buildAnimation(f.namespaceId,b,F,s,me,Se);if(f.setRealPlayer(H),N===Tn)Nt.push(f);else{let z=this.playersByElement.get(N);z&&z.length&&(f.parentPlayer=se(z)),i.push(f)}}else ue(h,b.fromStyles),f.onDestroy(()=>Q(h,b.toStyles)),wn.push(f),u.has(h)&&i.push(f)}),wn.forEach(m=>{let h=s.get(m.element);if(h&&h.length){let f=se(h);m.setRealPlayer(f)}}),i.forEach(m=>{m.parentPlayer?m.syncPlayerEvents(m.parentPlayer):m.destroy()});for(let m=0;m<M.length;m++){let h=M[m],f=h[$];if(Ce(h,nt),f&&f.hasAnimation)continue;let b=[];if(a.size){let H=a.get(h);H&&H.length&&b.push(...H);let z=this.driver.query(h,it,!0);for(let oe=0;oe<z.length;oe++){let C=a.get(z[oe]);C&&C.length&&b.push(...C)}}let N=b.filter(H=>!H.destroyed);N.length?os(this,h,N):this.processLeaveNode(h)}return M.length=0,Nt.forEach(m=>{this.players.push(m),m.onDone(()=>{m.destroy();let h=this.players.indexOf(m);this.players.splice(h,1)}),m.play()}),Nt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Fe;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(n||i)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,u=c!==s,d=x(n,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(y=>{let p=y.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),y.destroy(),d.push(y)})}ue(s,t.fromStyles)}_buildAnimation(e,t,n,i,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,_=t.timelines.map(p=>{let g=p.element;u.add(g);let M=g[$];if(M&&M.removedBeforeQueried)return new he(p.duration,p.delay);let P=g!==l,k=as((n.get(g)||ts).map(F=>F.getRealPlayer())).filter(F=>{let L=F;return L.element?L.element===g:!1}),R=s.get(g),O=o.get(g),_e=Gt(this._normalizer,p.keyframes,R,O),W=this._buildPlayer(p,_e,k);if(p.subTimeline&&i&&d.add(g),P){let F=new Be(e,a,g);F.setRealPlayer(W),c.push(F)}return W});c.forEach(p=>{x(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>is(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>j(p,Jt));let y=se(_);return y.onDestroy(()=>{u.forEach(p=>Ce(p,Jt)),Q(l,t.toStyles)}),d.forEach(p=>{x(i,p,[]).push(y)}),y}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new he(e.duration,e.delay)}},Be=class{namespaceId;triggerName;element;_player=new he;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>Je(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){x(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function is(r,e,t){let n=r.get(e);if(n){if(n.length){let i=n.indexOf(t);n.splice(i,1)}n.length==0&&r.delete(e)}return n}function rs(r){return r??null}function lt(r){return r&&r.nodeType===1}function ss(r){return r=="start"||r=="done"}function Xi(r,e){let t=r.style.display;return r.style.display=e??"none",t}function Zi(r,e,t,n,i){let s=[];t.forEach(l=>s.push(Xi(l)));let o=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let _=e.computeStyle(c,d,i);u.set(d,_),(!_||_.length==0)&&(c[$]=ns,o.push(c))}),r.set(c,u)});let a=0;return t.forEach(l=>Xi(l,s[a++])),o}function Ji(r,e){let t=new Map;if(r.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,i=new Set(e),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=n:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==n&&t.get(l).push(a)}),t}function j(r,e){r.classList?.add(e)}function Ce(r,e){r.classList?.remove(e)}function os(r,e,t){se(t).onDone(()=>r.processLeaveNode(e))}function as(r){let e=[];return or(r,e),e}function or(r,e){for(let t=0;t<r.length;t++){let n=r[t];n instanceof Ge?or(n.players,e):e.push(n)}}function ls(r,e){let t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||r[s]!==e[s])return!1}return!0}function er(r,e,t){let n=t.get(r);if(!n)return!1;let i=e.get(r);return i?n.forEach(s=>i.add(s)):e.set(r,n),t.delete(r),!0}var Ae=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new gn(e.body,t,n),this._timelineEngine=new hn(e.body,t,n),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,n,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=nr(this._driver,s,l,c);if(l.length)throw ki(i,l);a=Wr(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if(n.charAt(0)=="@"){let[s,o]=Wt(n),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,s){if(n.charAt(0)=="@"){let[o,a]=Wt(n);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,n,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function cs(r,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=on(e[0]),e.length>1&&(n=on(e[e.length-1]))):e instanceof Map&&(t=on(e)),t||n?new us(r,t,n):null}var us=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i;let s=r.initialStylesByElement.get(t);s||r.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Q(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Q(this._element,this._initialStyles),this._endStyles&&(Q(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ue(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ue(this._element,this._endStyles),this._endStyles=null),Q(this._element,this._initialStyles),this._state=3)}}return r})();function on(r){let e=null;return r.forEach((t,n)=>{ds(n)&&(e=e||new Map,e.set(n,t))}),e}function ds(r){return r==="display"||r==="position"}var ft=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();return t.addEventListener("finish",n),this.onDestroy(()=>{t.removeEventListener("finish",n)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){let i=this._convertKeyframesToObject(t);try{return e.animate(i,n)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&e.set(i,this._finished?n:st(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},gt=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Ht(e,t)}getParentElement(e){return tt(e)}query(e,t,n){return Yt(e,t,n)}computeStyle(e,t,n){return st(e,t)}animate(e,t,n,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(y=>y instanceof ft);ji(n,i)&&u.forEach(y=>{y.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=Ki(t).map(y=>new Map(y));d=qi(e,d,c);let _=cs(e,d);return new ft(e,d,l,_)}};var ct="@",ar="@.disabled",yt=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,i){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n,i){if(i){this.delegate.removeChild(e,t,n,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==ct&&t==ar?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,i){return this.delegate.listen(e,t,n,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},yn=class extends yt{factory;constructor(e,t,n,i,s){super(t,n,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==ct?t.charAt(1)=="."&&t==ar?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,i){if(t.charAt(0)==ct){let s=ms(e),o=t.slice(1),a="";return o.charAt(0)!=ct&&([o,a]=ps(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(e,t,n,i)}};function ms(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function ps(r){let e=r.indexOf("."),t=r.substring(0,e),n=r.slice(e+1);return[t,n]}var vt=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new yt("",i,this.engine,d),c.set(i,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new yn(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var fs=(()=>{class r extends Ae{constructor(t,n,i){super(t,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(ie(On),ie(ye),ie(ve))};static \u0275prov=ne({token:r,factory:r.\u0275fac})}return r})();function gs(){return new ut}function ys(r,e,t){return new vt(r,e,t)}var cr=[{provide:ve,useFactory:gs},{provide:Ae,useClass:fs},{provide:In,useFactory:ys,deps:[Kn,Ae,Qe]}],vs=[{provide:ye,useClass:vn},{provide:Ft,useValue:"NoopAnimations"},...cr],lr=[{provide:ye,useFactory:()=>new gt},{provide:Ft,useFactory:()=>"BrowserAnimations"},...cr],ur=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?vs:lr}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Z({type:r});static \u0275inj=Y({providers:lr,imports:[$e]})}return r})();var _t=class r{constructor(e,t,n,i){this.route=e;this.router=t;this.auth=n;this.snack=i}ngOnInit(){return ae(this,null,function*(){let e=this.route.snapshot.queryParamMap.get("code");if(!e){this.snack.open("\u041E\u0448\u0438\u0431\u043A\u0430: \u043A\u043E\u0434 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442","\u0417\u0430\u043A\u0440\u044B\u0442\u044C");return}try{yield this.auth.exchangeCodeForToken(e),this.snack.open("\u2705 Google Drive \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0451\u043D","\u041E\u041A",{duration:3e3}),this.clearQueryParams()}catch(t){console.error(t),this.snack.open("\u274C \u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438 Google Drive","\u0417\u0430\u043A\u0440\u044B\u0442\u044C")}})}clearQueryParams(){typeof window>"u"||this.router.navigate([],{relativeTo:this.route,queryParams:{},replaceUrl:!0}).catch(()=>{window.history.replaceState({},document.title,this.router.url.split("?")[0])})}static \u0275fac=function(t){return new(t||r)(Ne(Qn),Ne(Gn),Ne(We),Ne(He))};static \u0275cmp=X({type:r,selectors:[["app-auth-callback-gdrive"]],standalone:!1,decls:2,vars:0,template:function(t,n){t&1&&(E(0,"p"),T(1,"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0430\u0435\u043C Google Drive\u2026"),w())},encapsulation:2})};var Ss=[{path:"",pathMatch:"full",redirectTo:"finance"},{path:"finance",loadChildren:()=>import("./chunk-D7DCWF2T.js").then(r=>r.FinanceModule)},{path:"debts",loadChildren:()=>import("./chunk-NJG5PC2C.js").then(r=>r.DebtsModule)},{path:"meters",loadChildren:()=>import("./chunk-W23FNQTN.js").then(r=>r.MetersModule)},{path:"stats",loadChildren:()=>import("./chunk-MHSD756N.js").then(r=>r.StatsModule)},{path:"sync",loadChildren:()=>import("./chunk-HJQMZG6H.js").then(r=>r.SyncModule)},{path:"settings",loadChildren:()=>import("./chunk-3CATT67V.js").then(r=>r.SettingsModule)},{path:"auth/callback/gdrive",component:_t},{path:"**",redirectTo:"finance"}],Et=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=Z({type:r});static \u0275inj=Y({imports:[jt.forRoot(Ss),jt]})};var Sn="Service workers are disabled or not supported by this browser",Pe=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new Ke(n=>n.error(new v(5601,!1)));else{let n=null,i=new Ve;this.worker=new Ke(c=>(n!==null&&c.next(n),i.subscribe(u=>c.next(u))));let s=()=>{let{controller:c}=e;c!==null&&(n=c,i.next(n))};e.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(ke(()=>e.getRegistration().then(c=>{if(!c)throw new v(5601,!1);return c})));let o=new Ve;this.events=o.asObservable();let a=c=>{let{data:u}=c;u?.type&&o.next(u)};e.addEventListener("message",a),t?.get(Lt,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",s),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(n=>{this.worker.pipe(be(1)).subscribe(i=>{i.postMessage(Ee({action:e},t)),n()})})}postMessageWithOperation(e,t,n){let i=this.waitForOperationCompleted(n),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=n=>n.type===e:t=n=>e.includes(n.type),this.events.pipe(Dt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return new Promise((t,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Dt(i=>i.nonce===e),be(1),te(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:n})})}get isEnabled(){return!!this.serviceWorker}},mr=(()=>{class r{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Ve;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=le,this.notificationClicks=le,this.notificationCloses=le,this.pushSubscriptionChanges=le,this.subscription=le;return}this.messages=this.sw.eventsOfType("PUSH").pipe(te(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(te(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(te(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(te(i=>i.data)),this.pushManager=this.sw.registration.pipe(te(i=>i.pushManager));let n=this.pushManager.pipe(ke(i=>i.getSubscription()));this.subscription=new Ke(i=>{let s=n.subscribe(i),o=this.subscriptionChanges.subscribe(i);return()=>{s.unsubscribe(),o.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Sn));let n={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return n.applicationServerKey=s,new Promise((o,a)=>{this.pushManager.pipe(ke(l=>l.subscribe(n)),be(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),o(l)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sn));let t=n=>{if(n===null)throw new v(5602,!1);return n.unsubscribe().then(i=>{if(!i)throw new v(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,i)=>{this.subscription.pipe(be(1),ke(t)).subscribe({next:n,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(n){return new(n||r)(ie(Pe))};static \u0275prov=ne({token:r,factory:r.\u0275fac})}return r})(),bt=(()=>{class r{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=le,this.unrecoverable=le;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sn));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new v(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(n){return new(n||r)(ie(Pe))};static \u0275prov=ne({token:r,factory:r.\u0275fac})}return r})();var pr=new je("");function Es(){let r=I(ze);if(!("serviceWorker"in navigator&&r.enabled!==!1))return;let e=I(pr),t=I(Qe),n=I(Lt);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,s=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",s),n.onDestroy(()=>{i.removeEventListener("controllerchange",s)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:s}=r;if(typeof s=="function")i=new Promise(o=>s().subscribe(()=>o()));else{let[o,...a]=(s||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=dr(+a[0]||0);break;case"registerWhenStable":i=Promise.race([n.whenStable(),dr(+a[0])]);break;default:throw new v(5600,!1)}}i.then(()=>{n.destroyed||navigator.serviceWorker.register(e,{scope:r.scope,updateViaCache:r.updateViaCache,type:r.type}).catch(o=>console.error(Pn(5604,!1)))})})}function dr(r){return new Promise(e=>setTimeout(e,r))}function bs(r,e){return new Pe(r.enabled!==!1?navigator.serviceWorker:void 0,e)}var ze=class{enabled;updateViaCache;type;scope;registrationStrategy};function ws(r,e={}){return kn([mr,bt,{provide:pr,useValue:r},{provide:ze,useValue:e},{provide:Pe,useFactory:bs,deps:[ze,Nn]},Rn(Es)])}var hr=(()=>{class r{static register(t,n={}){return{ngModule:r,providers:[ws(t,n)]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Z({type:r});static \u0275inj=Y({providers:[mr,bt]})}return r})();var wt=class r{swUpdate=I(bt);destroyRef=I(qe);checkIntervalMs=3e5;constructor(){this.swUpdate.isEnabled&&(this.triggerUpdateCheck(),An(this.checkIntervalMs).pipe(we(this.destroyRef)).subscribe(()=>{this.triggerUpdateCheck()}),this.swUpdate.versionUpdates.pipe(we(this.destroyRef)).subscribe(e=>{e.type==="VERSION_READY"&&console.log("New version available:",e)}))}get versionUpdates(){return this.swUpdate.versionUpdates}checkForUpdate(){return ae(this,null,function*(){return this.swUpdate.isEnabled?yield this.swUpdate.checkForUpdate():!1})}activateUpdate(){return ae(this,null,function*(){return this.swUpdate.isEnabled?yield this.swUpdate.activateUpdate():!1})}triggerUpdateCheck(){this.swUpdate.checkForUpdate().then(()=>{console.log("Checked for updates")}).catch(e=>{console.error("Error checking for updates:",e)})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=ne({token:r,factory:r.\u0275fac,providedIn:"root"})};var fr={name:"fin-pocket",version:"0.0.58",scripts:{ng:"ng",start:"ng serve",build:"ng build",postbuild:"node tools/create-404.js",watch:"ng build --watch --configuration development",test:"ng test"},prettier:{printWidth:100,singleQuote:!0,overrides:[{files:"*.html",options:{parser:"angular"}}]},private:!0,dependencies:{"@angular/animations":"^20.3.9","@angular/cdk":"^20.2.11","@angular/common":"^20.3.0","@angular/compiler":"^20.3.0","@angular/core":"^20.3.0","@angular/forms":"^20.3.0","@angular/material":"^20.2.11","@angular/platform-browser":"^20.3.0","@angular/platform-browser-dynamic":"^20.3.0","@angular/router":"^20.3.0","@angular/service-worker":"^20.3.0","@swimlane/ngx-charts":"^23.1.0",dexie:"^4.2.1",rxjs:"~7.8.0",tslib:"^2.3.0","zone.js":"~0.15.0"},devDependencies:{"@angular/build":"^20.3.8","@angular/cli":"^20.3.8","@angular/compiler-cli":"^20.3.0","@types/jasmine":"~5.1.0","jasmine-core":"~5.9.0",karma:"~6.4.0","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.0","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0",typescript:"~5.9.2"}};var gr=new je("APP_VERSION",{providedIn:"root",factory:()=>`v${fr.version}`});function Cs(r,e){if(r&1){let t=Bt();E(0,"a",20),zt("click",function(){It(t);let i=Ut(),s=Kt(2);return Rt(i.onNavItemSelect(s))}),E(1,"mat-icon",21),T(2),w(),E(3,"span",22),T(4),w(),E(5,"span",23),T(6),w()()}if(r&2){let t=e.$implicit;K("routerLink",t.route),A(2),V(t.icon),A(2),V(t.label),A(2),V(t.description)}}function As(r,e){if(r&1){let t=Bt();E(0,"button",24),zt("click",function(){It(t),Ut();let i=Kt(2);return Rt(i.toggle())}),E(1,"mat-icon"),T(2,"menu"),w()()}}var Tt=class r{breakpointObserver=I(Yn);themeService=I(mi);pwaUpdateService=I(wt);snackBar=I(He);destroyRef=I(qe);googleAuth=I(We);tokenCheckTimer=null;activeTheme=this.themeService.theme;isHandset=di(this.breakpointObserver.observe(["(max-width: 959px)"]).pipe(te(e=>e.matches)),{initialValue:!1});title="FinPocket";appVersion=I(gr);appStatus="Offline-first PWA";navItems=[{label:"\u0424\u0438\u043D\u0430\u043D\u0441\u044B",route:"/finance",icon:"account_balance_wallet",description:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438, \u0441\u0447\u0435\u0442\u0430 \u0438 \u0431\u044E\u0434\u0436\u0435\u0442\u044B"},{label:"\u041A\u0440\u0435\u0434\u0438\u0442\u044B/\u0414\u0435\u043F\u043E\u0437\u0438\u0442\u044B",route:"/debts",icon:"handshake",description:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430, \u043D\u0430\u043A\u043E\u043F\u043B\u0435\u043D\u0438\u044F \u0438 \u043D\u0430\u043F\u043E\u043C\u0438\u043D\u0430\u043D\u0438\u044F \u043F\u043E \u0437\u0430\u0439\u043C\u0430\u043C"},{label:"\u041F\u043E\u043A\u0430\u0437\u0430\u043D\u0438\u044F",route:"/meters",icon:"speed",description:"\u0423\u0447\u0451\u0442 \u043A\u043E\u043C\u043C\u0443\u043D\u0430\u043B\u044C\u043D\u044B\u0445 \u0441\u0447\u0451\u0442\u0447\u0438\u043A\u043E\u0432 \u0438 \u0442\u0430\u0440\u0438\u0444\u043E\u0432"},{label:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430",route:"/stats",icon:"insights",description:"\u0414\u0430\u0448\u0431\u043E\u0440\u0434\u044B \u0438 \u0434\u0438\u043D\u0430\u043C\u0438\u043A\u0430 \u043F\u043E \u043F\u0435\u0440\u0438\u043E\u0434\u0430\u043C"},{label:"\u0421\u0438\u043D\u0445\u0440\u043E\u043D\u0438\u0437\u0430\u0446\u0438\u044F",route:"/sync",icon:"cloud_sync",description:"\u041E\u0431\u043B\u0430\u043A\u043E, \u0440\u0435\u0437\u0435\u0440\u0432\u043D\u044B\u0435 \u043A\u043E\u043F\u0438\u0438 \u0438 \u0438\u043C\u043F\u043E\u0440\u0442"},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",route:"/settings",icon:"tune",description:"\u0422\u0435\u043C\u044B, \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u043D\u044B\u0435 \u043A\u043E\u043F\u0438\u0438"}];hasNavigationOverlay=xn(()=>this.isHandset());constructor(){let e=typeof localStorage<"u"?localStorage.getItem("oauth_redirect_url"):null;if(e){console.log("[OAuth] Restoring pending redirect URL:",e),localStorage.removeItem("oauth_redirect_url");try{let n=new URL(e).searchParams.get("code");n&&this.googleAuth.exchangeCodeForToken(n).catch(i=>console.error("[OAuth] Failed to exchange code:",i))}catch(t){console.error("[OAuth] Failed to parse redirect URL:",t)}}}ngOnInit(){this.pwaUpdateService.versionUpdates.pipe(we(this.destroyRef)).subscribe(e=>{e.type==="VERSION_READY"&&this.snackBar.open("\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u0430 \u043D\u043E\u0432\u0430\u044F \u0432\u0435\u0440\u0441\u0438\u044F \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F!","\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C",{duration:0,horizontalPosition:"center",verticalPosition:"bottom"}).onAction().pipe(we(this.destroyRef)).subscribe(()=>{this.pwaUpdateService.activateUpdate().then(()=>{window.location.reload()}).catch(n=>{console.error("Failed to activate update:",n),this.snackBar.open("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.","OK",{duration:5e3})})})}),this.destroyRef.onDestroy(()=>{this.tokenCheckTimer!==null&&clearTimeout(this.tokenCheckTimer)}),this.ensureGoogleDriveToken()}onNavItemSelect(e){return ae(this,null,function*(){this.isHandset()&&(yield e.close())})}ensureGoogleDriveToken(){return ae(this,null,function*(){try{(yield this.googleAuth.ensureTokenValid())&&console.log("\u{1F504} Google Drive \u0442\u043E\u043A\u0435\u043D \u0430\u043A\u0442\u0438\u0432\u0435\u043D")}catch(e){console.error("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u0442\u043E\u043A\u0435\u043D Google Drive",e)}finally{this.tokenCheckTimer=setTimeout(()=>{this.ensureGoogleDriveToken()},300*1e3)}})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=X({type:r,selectors:[["app-root"]],standalone:!1,decls:35,vars:8,consts:[["drawer",""],[1,"app-shell",3,"hasBackdrop"],[1,"app-sidenav",3,"mode","opened"],[1,"app-brand"],[1,"app-logo"],[1,"app-brand__text"],[1,"app-name"],[1,"app-tagline"],["mat-list-item","","routerLinkActive","active",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"app-meta"],[1,"tag-chip"],["color","primary",1,"app-toolbar"],["mat-icon-button","","class","menu-button","type","button","aria-label","\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043C\u0435\u043D\u044E",3,"click",4,"ngIf"],[1,"toolbar-title"],[1,"toolbar-name"],[1,"toolbar-subtitle"],[1,"spacer"],["mat-icon-button","","type","button","routerLink","/settings"],["mat-icon-button","","type","button","aria-label","\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u0441\u0438\u043D\u0445\u0440\u043E\u043D\u0438\u0437\u0430\u0446\u0438\u0438","routerLink","/sync"],[1,"app-content"],["mat-list-item","","routerLinkActive","active",3,"click","routerLink"],["matListItemIcon","",1,"nav-icon"],["matListItemTitle","",1,"nav-text__label"],["matListItemLine","",1,"nav-text__hint"],["mat-icon-button","","type","button","aria-label","\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043C\u0435\u043D\u044E",1,"menu-button",3,"click"]],template:function(t,n){t&1&&(E(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"div",3)(4,"div",4),T(5,"FP"),w(),E(6,"div",5)(7,"span",6),T(8,"FinPocket"),w(),E(9,"span",7),T(10),w()()(),E(11,"mat-nav-list"),re(12,Cs,7,4,"a",8),w(),E(13,"div",9)(14,"span",10),T(15,"Offline-first"),w(),E(16,"p"),T(17,"\u0412\u0430\u0448\u0438 \u0434\u0430\u043D\u043D\u044B\u0435 \u0436\u0438\u0432\u0443\u0442 \u0432 IndexedDB \u0447\u0435\u0440\u0435\u0437 Dexie.js \u0438 \u0441\u0438\u043D\u0445\u0440\u043E\u043D\u0438\u0437\u0438\u0440\u0443\u044E\u0442\u0441\u044F \u0442\u043E\u043B\u044C\u043A\u043E \u043A\u043E\u0433\u0434\u0430 \u0432\u044B \u0433\u043E\u0442\u043E\u0432\u044B."),w()()(),E(18,"mat-sidenav-content")(19,"mat-toolbar",11),re(20,As,3,0,"button",12),E(21,"div",13)(22,"span",14),T(23,"FinPocket"),w(),E(24,"span",15),T(25,"\u0444\u0438\u043D\u0430\u043D\u0441\u044B \u0432 \u043E\u0434\u043D\u043E\u043C \u043A\u0430\u0440\u043C\u0430\u043D\u0435"),w()(),xt(26,"span",16),E(27,"button",17)(28,"mat-icon"),T(29,"tune"),w()(),E(30,"button",18)(31,"mat-icon"),T(32,"cloud_sync"),w()()(),E(33,"main",19),xt(34,"router-outlet"),w()()()),t&2&&(K("hasBackdrop",n.hasNavigationOverlay()),A(),K("mode",n.isHandset()?"over":"side")("opened",!n.isHandset()),A(9),Ln("",n.appStatus," \u2022 ",n.appVersion),A(2),K("ngForOf",n.navItems),A(8),K("ngIf",n.isHandset()),A(7),Fn("aria-label","\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438. \u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0442\u0435\u043C\u0430: "+(n.activeTheme()==="dark"?"\u0442\u0451\u043C\u043D\u0430\u044F":"\u0441\u0432\u0435\u0442\u043B\u0430\u044F")))},dependencies:[ce,zn,$n,Wn,Hn,ei,Zn,ti,ii,ri,ni,ai,Ze,si,Xe,Ye],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}.app-shell[_ngcontent-%COMP%]{height:100vh;background:var(--finpocket-gradient)}.app-sidenav[_ngcontent-%COMP%]{--sidenav-width: min(280px, calc(80vw - env(safe-area-inset-left, 0px) - env(safe-area-inset-right, 0px)) );width:var(--sidenav-width);background:var(--finpocket-sidenav-bg);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);color:var(--finpocket-text);border-right:1px solid var(--finpocket-border);padding:1.5rem calc(1.25rem + env(safe-area-inset-right,0px)) calc(2rem + env(safe-area-inset-bottom,0px)) calc(1.25rem + env(safe-area-inset-left,0px));display:flex;flex-direction:column;gap:1.5rem;overflow:visible}.app-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.app-logo[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;display:grid;place-items:center;font-family:Poppins,Inter,sans-serif;font-weight:600;letter-spacing:.08em;background:linear-gradient(135deg,color-mix(in srgb,var(--finpocket-primary) 78%,#ffffff 22%),color-mix(in srgb,var(--finpocket-accent) 80%,#ffffff 20%));color:var(--finpocket-logo-text);box-shadow:0 12px 26px #0003}.app-name[_ngcontent-%COMP%]{font-family:Poppins,Inter,sans-serif;font-size:1.3rem;font-weight:600}.app-tagline[_ngcontent-%COMP%]{display:block;font-size:.8rem;letter-spacing:.08em;text-transform:uppercase;color:var(--finpocket-muted)}.app-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding:0}.app-sidenav[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]{display:flex;align-items:center;gap:.85rem;border-radius:12px;margin-bottom:.35rem;padding:.65rem .85rem;transition:background .3s ease,transform .3s ease,box-shadow .3s ease}.app-sidenav[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%]   .mat-mdc-list-item-title[_ngcontent-%COMP%], .app-sidenav[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%]   .mat-mdc-list-item-line[_ngcontent-%COMP%]{color:inherit}@media (hover: hover) and (pointer: fine){.app-sidenav[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]:hover{background:var(--finpocket-nav-hover);transform:translate(6px)}}.app-sidenav[_ngcontent-%COMP%]   a[mat-list-item].active[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--finpocket-primary) 80%,transparent),color-mix(in srgb,var(--finpocket-accent) 65%,transparent));color:var(--finpocket-text);box-shadow:0 12px 26px #00000052}.nav-icon[_ngcontent-%COMP%]{margin-right:0;color:color-mix(in srgb,var(--finpocket-icon-accent) 85%,white 15%);font-size:26px;flex-shrink:0}.nav-text__label[_ngcontent-%COMP%]{display:block;font-weight:600;letter-spacing:.02em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.nav-text__hint[_ngcontent-%COMP%]{display:none}.app-sidenav[_ngcontent-%COMP%]   a[mat-list-item].active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{color:var(--finpocket-text)}.app-meta[_ngcontent-%COMP%]{margin-top:auto;font-size:.8rem;color:var(--finpocket-muted);line-height:1.5}mat-sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background:transparent}.app-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--finpocket-toolbar-bg);-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);border-bottom:1px solid var(--finpocket-toolbar-border)}.menu-button[_ngcontent-%COMP%]{margin-right:.75rem}.toolbar-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.toolbar-name[_ngcontent-%COMP%]{font-family:Poppins,Inter,sans-serif;font-weight:600;letter-spacing:.06em}.toolbar-subtitle[_ngcontent-%COMP%]{font-size:.85rem;color:var(--finpocket-muted);letter-spacing:.08em;text-transform:uppercase}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-content[_ngcontent-%COMP%]{padding:clamp(1.5rem,3vw,2.75rem);width:min(1120px,100%);margin:0 auto}@media (max-width: 959px){.app-content[_ngcontent-%COMP%]{padding:clamp(1.25rem,5vw,2rem)}}@media (min-width: 960px){.app-sidenav[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]{position:relative}.app-sidenav[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]:hover   .nav-text__hint[_ngcontent-%COMP%], .app-sidenav[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]:focus-visible   .nav-text__hint[_ngcontent-%COMP%]{display:block;position:absolute;left:100%;top:50%;transform:translateY(-50%);margin-left:1rem;padding:.5rem .75rem;background:var(--finpocket-toolbar-bg);border:1px solid var(--finpocket-border);border-radius:8px;white-space:nowrap;font-size:.8rem;color:var(--finpocket-muted);box-shadow:0 4px 12px #00000026;z-index:10;pointer-events:none;max-width:calc(100vw - var(--sidenav-width) - env(safe-area-inset-left,0px) - env(safe-area-inset-right,0px) - 2rem);overflow:hidden;text-overflow:ellipsis}}@media (max-width: 599px){.app-toolbar[_ngcontent-%COMP%]{border-bottom:none;background:color-mix(in srgb,var(--finpocket-toolbar-bg) 85%,rgba(0,0,0,.05))}.toolbar-subtitle[_ngcontent-%COMP%]{display:none}.app-sidenav[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]{padding:.75rem 1rem;gap:1rem}.nav-icon[_ngcontent-%COMP%]{font-size:24px;min-width:24px}.nav-text__label[_ngcontent-%COMP%]{font-size:.95rem}}']})};function Ps(r,e){if(r&1&&(E(0,"mat-list-item")(1,"div",2),T(2),w(),E(3,"div",3),T(4),w()()),r&2){let t=e.$implicit;A(2),V(t.name),A(2),V(t.description)}}var Mt=class r{services=[{name:"AccountsService",description:"API \u0434\u043B\u044F \u0440\u0430\u0431\u043E\u0442\u044B \u0441\u043E \u0441\u0447\u0435\u0442\u0430\u043C\u0438, \u0431\u0430\u043B\u0430\u043D\u0441\u0430\u043C\u0438 \u0438 \u0432\u0430\u043B\u044E\u0442\u0430\u043C\u0438."},{name:"TransactionsService",description:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430, \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u044F \u0438 \u0437\u0430\u043F\u0438\u0441\u044C \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439."},{name:"SyncService",description:"\u0418\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0432\u0437\u0430\u0438\u043C\u043E\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u0441 \u043E\u0431\u043B\u0430\u0447\u043D\u044B\u043C\u0438 \u043F\u0440\u043E\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043C\u0438."}];static \u0275fac=function(t){return new(t||r)};static \u0275cmp=X({type:r,selectors:[["app-core-list"]],decls:5,vars:1,consts:[[1,"core-list"],[4,"ngFor","ngForOf"],["matListItemTitle",""],["matListItemLine",""]],template:function(t,n){t&1&&(E(0,"section",0)(1,"h2"),T(2,"Core \u0441\u0435\u0440\u0432\u0438\u0441\u044B"),w(),E(3,"mat-list"),re(4,Ps,5,2,"mat-list-item",1),w()()),t&2&&(A(4),K("ngForOf",n.services))},dependencies:[J,ce,oi,Ze,Xe,Ye],styles:[".core-list[_ngcontent-%COMP%]{display:grid;gap:1rem}"]})};function ks(r,e){if(r&1&&(E(0,"mat-card")(1,"mat-card-title"),T(2),w(),E(3,"mat-card-content"),T(4),w()()),r&2){let t=e.$implicit;A(2),V(t.name),A(2),V(t.description)}}var Ct=class r{utilities=[{name:"DateTimeAdapter",description:"\u0423\u0442\u0438\u043B\u0438\u0442\u0430 \u043D\u043E\u0440\u043C\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u043E\u0440\u043C\u0430\u0442\u043E\u0432 \u0434\u0430\u0442."},{name:"CurrencyFormatter",description:"\u0412\u0441\u043F\u043E\u043C\u043E\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u0434\u043B\u044F \u0440\u0430\u0431\u043E\u0442\u044B \u0441 \u0432\u0430\u043B\u044E\u0442\u0430\u043C\u0438 \u0438 \u043E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435\u043C."},{name:"StorageKeys",description:"\u0415\u0434\u0438\u043D\u044B\u0439 enum \u043A\u043B\u044E\u0447\u0435\u0439 \u043B\u043E\u043A\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0445\u0440\u0430\u043D\u0438\u043B\u0438\u0449\u0430."}];static \u0275fac=function(t){return new(t||r)};static \u0275cmp=X({type:r,selectors:[["app-core-edit"]],decls:6,vars:1,consts:[[1,"core-edit"],[4,"ngFor","ngForOf"]],template:function(t,n){t&1&&(E(0,"section",0)(1,"h2"),T(2,"\u0423\u0442\u0438\u043B\u0438\u0442\u044B \u044F\u0434\u0440\u0430"),w(),E(3,"p"),T(4,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u043F\u043E\u043C\u043E\u0449\u043D\u0438\u043A\u043E\u0432 \u0438 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\u0445 \u0432\u043E \u0432\u0441\u0435\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u0445."),w(),re(5,ks,5,2,"mat-card",1),w()),t&2&&(A(5),K("ngForOf",n.utilities))},dependencies:[J,ce,li,ui,ci],styles:[".core-edit[_ngcontent-%COMP%]{display:grid;gap:1rem}.core-edit[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{display:grid;gap:.5rem}"]})};function Ns(r,e){if(r&1&&(E(0,"li"),T(1),w()),r&2){let t=e.$implicit;A(),V(t)}}var At=class r{architectureNotes=["CoreModule \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044F \u043E\u0434\u0438\u043D \u0440\u0430\u0437 \u0432 AppModule \u0438 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u0438\u043D\u0433\u043B\u0442\u043E\u043D\u044B.","Services \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442 HttpClient \u0438 RxJS \u0434\u043B\u044F \u0440\u0435\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 \u043F\u043E\u0442\u043E\u043A\u043E\u0432 \u0434\u0430\u043D\u043D\u044B\u0445.","\u0423\u0442\u0438\u043B\u0438\u0442\u044B \u0440\u0430\u0437\u043C\u0435\u0449\u0430\u044E\u0442\u0441\u044F \u0432 core/utils \u0438 \u043F\u043E\u043A\u0440\u044B\u0432\u0430\u044E\u0442 \u0444\u043E\u0440\u043C\u0430\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435, \u0434\u0430\u0442\u044B \u0438 \u043B\u043E\u043A\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044E."];static \u0275fac=function(t){return new(t||r)};static \u0275cmp=X({type:r,selectors:[["app-core-details"]],decls:5,vars:1,consts:[[1,"core-details"],[4,"ngFor","ngForOf"]],template:function(t,n){t&1&&(E(0,"section",0)(1,"h2"),T(2,"\u0410\u0440\u0445\u0438\u0442\u0435\u043A\u0442\u0443\u0440\u0430 \u044F\u0434\u0440\u0430"),w(),E(3,"ul"),re(4,Ns,2,1,"li",1),w()()),t&2&&(A(4),K("ngForOf",n.architectureNotes))},dependencies:[J,ce],styles:[".core-details[_ngcontent-%COMP%]{display:grid;gap:1rem}.core-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc inside;display:grid;gap:.5rem}"]})};var Pt=class r{constructor(e){if(e)throw new Error("CoreModule is already loaded. Import it only in AppModule.")}static \u0275fac=function(t){return new(t||r)(ie(r,12))};static \u0275mod=Z({type:r});static \u0275inj=Y({imports:[Un,jn,Xn,Jn,J,Mt,Ct,At]})};var kt=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=Z({type:r,bootstrap:[Tt]});static \u0275inj=Y({providers:[Dn()],imports:[$e,ur,Pt,J,Et,hr.register("ngsw-worker.js",{enabled:!Bn(),registrationStrategy:"registerWhenStable:30000"})]})};Vn().bootstrapModule(kt,{ngZoneEventCoalescing:!0}).catch(r=>{console.error(r)});

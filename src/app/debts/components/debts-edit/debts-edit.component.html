<div class="debts-edit-container">
  <!-- Top: Amount Display -->
  <div class="amount-display">
    <span class="currency-symbol">{{ defaultCurrencyCode() }}</span>
    <span class="amount-value" [class.negative]="direction() === 'borrowed'" [class.positive]="direction() === 'lent'">
      {{ amountString() }}
    </span>
  </div>

  <!-- Type Switcher -->
  <div class="type-switcher">
    <button class="type-btn" [class.active]="direction() === 'borrowed'" (click)="setType('borrowed')" mat-ripple>
      Я должен
    </button>
    <button class="type-btn" [class.active]="direction() === 'lent'" (click)="setType('lent')" mat-ripple>
      Мне должны
    </button>
  </div>

  <!-- Contact Name Input (Large) -->
  <div class="contact-input-container">
    <div class="contact-avatar-placeholder">
      <mat-icon>person</mat-icon>
    </div>
    <input type="text" placeholder="Имя контакта" [ngModel]="contactName()" (ngModelChange)="contactName.set($event)"
      class="contact-name-input">
  </div>

  <!-- Inputs Row (Date, Note) -->
  <div class="inputs-row">
    <div class="input-chip">
      <mat-icon>calendar_today</mat-icon>
      <input type="date" [ngModel]="dueDate()" (ngModelChange)="dueDate.set($event)" class="date-input">
    </div>

    <div class="input-chip flex-grow">
      <mat-icon>edit_note</mat-icon>
      <input type="text" placeholder="Заметка..." [ngModel]="note()" (ngModelChange)="note.set($event)"
        class="note-input">
    </div>
  </div>

  <!-- Keypad -->
  <div class="keypad">
    <div class="keypad-row">
      <button class="keypad-btn" (click)="appendDigit('1')" mat-ripple>1</button>
      <button class="keypad-btn" (click)="appendDigit('2')" mat-ripple>2</button>
      <button class="keypad-btn" (click)="appendDigit('3')" mat-ripple>3</button>
    </div>
    <div class="keypad-row">
      <button class="keypad-btn" (click)="appendDigit('4')" mat-ripple>4</button>
      <button class="keypad-btn" (click)="appendDigit('5')" mat-ripple>5</button>
      <button class="keypad-btn" (click)="appendDigit('6')" mat-ripple>6</button>
    </div>
    <div class="keypad-row">
      <button class="keypad-btn" (click)="appendDigit('7')" mat-ripple>7</button>
      <button class="keypad-btn" (click)="appendDigit('8')" mat-ripple>8</button>
      <button class="keypad-btn" (click)="appendDigit('9')" mat-ripple>9</button>
    </div>
    <div class="keypad-row">
      <button class="keypad-btn" (click)="appendDigit('.')" mat-ripple>.</button>
      <button class="keypad-btn" (click)="appendDigit('0')" mat-ripple>0</button>
      <button class="keypad-btn" (click)="backspace()" (longPress)="clear()" mat-ripple>
        <mat-icon>backspace</mat-icon>
      </button>
    </div>

    <!-- Submit Button -->
    <div class="keypad-row submit-row">
      <button class="submit-btn" [disabled]="!canSubmit" (click)="submit()" mat-ripple>
        <mat-icon>check</mat-icon>
        Сохранить
      </button>
    </div>
  </div>
</div>
# Stats Dashboard Component

## Описание

Компонент `stats-dashboard` предоставляет панель аналитики с визуализацией данных с использованием библиотеки ngx-charts.

## Возможности

### Типы визуализаций

1. **Расходы по категориям (Pie Chart)**
   - Круговая диаграмма показывает распределение расходов по категориям
   - Данные берутся из транзакций с типом "expense"
   - Автоматическая конвертация в базовую валюту

2. **Баланс по месяцам (Line Chart)**
   - Линейный график показывает изменение баланса по месяцам
   - Баланс рассчитывается как разница между доходами и расходами
   - Отображается за выбранный период

3. **Долги (Bar Chart)**
   - Столбчатая диаграмма показывает активные долги
   - Разделяет долги на "Должны мне" и "Я должен"
   - Учитываются только активные долги

4. **Потребление ресурсов (Area Chart)**
   - Диаграмма с областями показывает потребление воды, газа и электричества
   - Отображается по месяцам
   - Автоматический расчет потребления на основе показаний счетчиков

### Фильтрация

#### По типу данных
- Расходы по категориям
- Баланс по месяцам
- Долги
- Потребление ресурсов

#### По периоду
- Неделя
- Месяц (по умолчанию)
- Квартал
- Год

## Использование

Компонент доступен по маршруту `/stats/dashboard` (также это маршрут по умолчанию для `/stats`).

## Технические детали

- **Библиотека визуализации**: @swimlane/ngx-charts v23.1.0
- **Источники данных**:
  - `TransactionsStore` - для данных о транзакциях
  - `DebtsStore` - для данных о долгах
  - `MetersStoreService` - для данных о показаниях счетчиков
  - `CurrencyService` - для конвертации валют

## Файлы компонента

- `stats-dashboard.ts` - TypeScript логика компонента
- `stats-dashboard.html` - HTML шаблон
- `stats-dashboard.scss` - Стили компонента
- `stats-dashboard.spec.ts` - Unit тесты

## Тестирование

Для запуска тестов компонента:

```bash
npm test -- --include='**/stats-dashboard.spec.ts'
```

Все 11 тестов успешно проходят:
- Создание компонента
- Проверка значений по умолчанию
- Проверка опций фильтрации
- Проверка методов изменения фильтров
- Проверка вычисления данных для графиков

<section class="stats-details">
  <header>
    <h2>Сводка по неделям</h2>
    <p>Сравните расходы, долги и потребление ресурсов в рамках одного отчётного периода.</p>
  </header>

  <mat-card *ngIf="hasData(); else noBreakdown">
    <mat-card-title>Структура расходов за месяц</mat-card-title>
    <table>
      <thead>
        <tr>
          <th>Категория</th>
          <th>Сумма</th>
          <th>Доля</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of rows()">
          <td>{{ row.category }}</td>
          <td>{{ row.amount | number:'1.0-0' }} ₽</td>
          <td>{{ row.share | number:'1.0-1' }}%</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <th>Итого расходов</th>
          <th colspan="2">{{ totalExpenses() | number:'1.0-0' }} ₽</th>
        </tr>
      </tfoot>
    </table>
  </mat-card>

  <ng-template #noBreakdown>
    <mat-card class="stats-details__empty">
      <mat-card-title>Данных пока нет</mat-card-title>
      <p>Добавьте расходы с категорией, чтобы увидеть распределение по направлениям.</p>
    </mat-card>
  </ng-template>
</section>

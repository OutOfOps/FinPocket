<section class="sync-details">
  <header>
    <h2>Подробности восстановления</h2>
    <p>Последние операции синхронизации для контроля качества резервирования.</p>
  </header>

  <mat-card>
    <mat-card-title>Последняя резервная копия</mat-card-title>

    <ng-container *ngIf="!isLoading; else loading">
      <ng-container *ngIf="!error; else errorTpl">
        <ng-container *ngIf="latestBackup; else empty">
          <ul>
            <li><strong>Создана:</strong> {{ latestBackup.createdAt | date: 'd MMMM yyyy, HH:mm' }}</li>
            <li><strong>Размер:</strong> {{ latestBackup.sizeLabel }}</li>
            <li class="sync-details__checksum"><strong>Контрольная сумма:</strong> {{ latestBackup.checksum }}</li>
          </ul>
        </ng-container>
      </ng-container>
    </ng-container>
  </mat-card>

  <mat-card>
    <mat-card-title>Проверки целостности</mat-card-title>
    <ul>
      <li *ngFor="let check of integrityChecks">
        <span>{{ check.label }}</span>
        <strong>{{ check.result }}</strong>
      </li>
    </ul>
  </mat-card>
</section>

<ng-template #loading>
  <p class="sync-details__state">Загружаем информацию о резервных копиях…</p>
</ng-template>

<ng-template #empty>
  <p class="sync-details__state">Резервные копии ещё не создавались.</p>
</ng-template>

<ng-template #errorTpl>
  <p class="sync-details__state sync-details__state--error">{{ error }}</p>
</ng-template>
